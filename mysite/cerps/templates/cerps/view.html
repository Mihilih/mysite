{% extends "cerps/layout.html" %}
{% load static %}

{% block title %}
 - Faculty of Engineering Research Information
{% endblock %}

{% block script %}
    <script src="{% static 'cerps/edit.js' %}"></script>
{% endblock %}


{% block body %}

<div class="accordion" id="accordionPanelsStayOpenExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="panelsStayOpen-headingOne">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
          Journal publications
        </button>
      </h2>
      <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne" data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Title</th>
                    <th scope="col">Authors</th>
                    <th scope="col">Volume</th>
                    <th scope="col">Issue</th>
                    <th scope="col">Pages</th>
                    {% if user.is_authenticated %}
                    <th scope="col"></th>
                    {% endif %}
                    </tr>
                </thead>
                <tbody>
                {%for journal in journallist%}
                
                    <tr>
                        <td scope="row">{{journal.name}}</td>
                        <td scope="row">{{journal.title}}</td>
                        <td scope="row">{%for author in journal.authors.all%}{{author.name}}<br/>{%endfor%}</td>
                        <td scope="row">{{journal.volume}}</td>
                        <td scope="row">{{journal.issue}}</td>
                        <td scope="row">{{journal.pages}}</td>
                        {% if user.is_authenticated %}
                        <td scope="row">
                          <div id="container"  style="flex-wrap: wrap;">
                            <a href="#" id="editjournal_{{journal.id}}" onclick="editjournal('{{ journal.id }}')" class="btn d-flex justify-content-center" style="float: left;border-color: #530d0d; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Edit</a>
                            <a href="#" id="deletejournal_{{journal.id}}" onclick="deletejournal('{{ journal.id }}')" class="btn btn-outline-danger" style="float: left; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Delete</a>
                          </div>
                        </td>
                        {% endif %}
                      </tr>
                {%empty%}
                    <tr>
                        <td>No Journal Publications</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        {% if user.is_authenticated %}
                        <td></td>
                        {% endif %}
                    </tr>
                {%endfor%}
                </tbody>
            </table>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="true" aria-controls="panelsStayOpen-collapseTwo">
          Book publications
        </button>
      </h2>
      <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo" data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                    <th scope="col">Book or Chapter</th>
                    <th scope="col">Book title</th>
                    <th scope="col">Chapter title</th>
                    <th scope="col">Authors</th>
                    <th scope="col">Year</th>
                    <th scope="col">Publisher</th>
                    <th scope="col">ISBN</th>
                    {% if user.is_authenticated %}
                    <th scope="col"></th>
                    <th scope="col"></th>
                    {% endif %}
                    </tr>
                </thead>
                <tbody>
                {%for book in booklist%}
                
                    <tr>
                    <td scope="row">
                        {%if book.book_bool is True%}
                            Book
                        {%else%}
                            Chapter
                        {%endif%}
                    </td>
                    <td scope="row">{{book.book_title}}</td>
                    <td scope="row">{{book.chapter_title}}</td>
                    <td scope="row">{%for author in book.authors.all%}{{author.name}}<br/>{%endfor%}</td>
                    <td scope="row">{{book.year}}</td>
                    <td scope="row">{{book.publisher}}</td>
                    <td scope="row">{{book.isbn}}</td>
                    {% if user.is_authenticated %}
                    <td scope="row">
                      <div id="container"  style="flex-wrap: wrap;">
                        <a href="#" id="editbook_{{book.id}}" onclick="editbook('{{ book.id }}')" class="btn d-flex justify-content-center" style="float: left;border-color: #530d0d; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Edit</a>
                        <a href="#" id="deletebook_{{book.id}}" onclick="deletebook('{{ book.id }}')" class="btn btn-outline-danger" style="float: left; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Delete</a>
                      </div>
                    </td>
                    {% endif %}  
                  </tr>
                {%empty%}
                    <tr>
                        <td>No Book Publications</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        {% if user.is_authenticated %}
                        <td></td>
                        {% endif %}
                    </tr>
                {%endfor%}
                </tbody>
            </table>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="panelsStayOpen-headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="true" aria-controls="panelsStayOpen-collapseThree">
          Patents
        </button>
      </h2>
      <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree" data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                    <th scope="col">Country</th>
                    <th scope="col">Title</th>
                    <th scope="col">Number</th>
                    <th scope="col">Authors</th>
                    <th scope="col">Year</th>
                    {% if user.is_authenticated %}
                    <th scope="col"></th>
                    <th scope="col"></th>
                    {% endif %}
                    </tr>
                </thead>
                <tbody>
                {%for patent in patentlist%}
                    <tr>
                    <td scope="row">{{patent.agency}}</td>
                    <td scope="row">{{patent.title}}</td>
                    <td scope="row">{{patent.number}}</td>
                    <td scope="row">{%for author in patent.authors.all%}{{author.name}}<br/>{%endfor%}</td>
                    <td scope="row">{{patent.year}}</td>
                    {% if user.is_authenticated %}
                    <td scope="row">
                      <div id="container"  style="flex-wrap: wrap;">
                        <a href="#" id="editpatent_{{patent.id}}" onclick="editpatent('{{ patent.id }}')" class="btn d-flex justify-content-center" style="float: left;border-color: #530d0d; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Edit</a>
                        <a href="#" id="deletepatent_{{patent.id}}" onclick="deletepatent('{{ patent.id }}')" class="btn btn-outline-danger" style="float: left; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Delete</a>
                      </div>
                    </td>
                    {% endif %}
                  </tr>
                {%empty%}
                    <tr>
                        <td>No Patents</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        {% if user.is_authenticated %}
                        <td></td>
                        {% endif %}
                    </tr>
                {%endfor%}
                </tbody>
            </table>
        </div>
      </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header" id="panelsStayOpen-headingFour">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="true" aria-controls="panelsStayOpen-collapseFour">
            Research grants
          </button>
        </h2>
        <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFour" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                    <th scope="col">Funding Agency</th>
                    <th scope="col">Title</th>
                    <th scope="col">PI</th>
                    <th scope="col">Co-investigators</th>
                    <th scope="col">Budget</th>
                    <th scope="col">Duration</th>
                    {% if user.is_authenticated %}
                    <th scope="col"></th>
                    <th scope="col"></th>
                    {% endif %}
                    </tr>
                </thead>
                <tbody>
                {%for grant in grantlist%}
                    <tr>
                    <td scope="row">{{grant.agency}}</td>
                    <td scope="row">{{grant.title}}</td>
                    <td scope="row">{{grant.pi}}</td>
                    <td scope="row">{%for investigator in grant.co_investigators.all%}{{investigator.name}}<br/>{%endfor%}</td>
                    <td scope="row">Rs.{{grant.budget}}/=</td>
                    <td scope="row">From: {{grant.duration_from}} &nbsp;  To: {{grant.duration_to}}</td>
                    {% if user.is_authenticated %}
                    <td scope="row">
                      <div id="container"  style="flex-wrap: wrap;">
                        <a href="#" id="editgrant_{{grant.id}}" onclick="editgrant('{{ grant.id }}')" class="btn d-flex justify-content-center" style="float: left;border-color: #530d0d; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Edit</a>
                        <a href="#" id="deletegrant_{{grant.id}}" onclick="deletegrant('{{ grant.id }}')" class="btn btn-outline-danger" style="float: left;width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Delete</a>
                      </div>
                    </td>
                    {% endif %}
                  </tr>
                {%empty%}
                    <tr>
                        <td>No Research Grants</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        {% if user.is_authenticated %}
                        <td></td>
                        {% endif %}
                    </tr>
                {%endfor%}
                </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header"  id="panelsStayOpen-headingFive">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFive" aria-expanded="true" aria-controls="panelsStayOpen-collapseFive">
            Research awards
          </button>
        </h2>
        <div id="panelsStayOpen-collapseFive" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFive" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Awarding Body</th>
                    <th scope="col">Year</th>
                    <th scope="col">Agency</th>
                    {% if user.is_authenticated %}
                    <th scope="col" style="align-self: right;"></th>
                    {% endif %}
                    </tr>
                </thead>
                <tbody>
                {%for award in awardlist%}
                    <tr>
                    <td scope="row">{{award.name}}</td>
                    <td scope="row">{{award.award}}</td>
                    <td scope="row">{{award.year}}</td>
                    <td scope="row">{{award.agency}}</td>
                    {% if user.is_authenticated %}
                    <td scope="row">
                      <div id="container"  style="flex-wrap: wrap;">
                        <a href="#" id="editaward_{{award.id}}" onclick="editaward('{{ award.id }}')" class="btn d-flex justify-content-center" style="float: left;border-color: #530d0d; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Edit</a>
                        <a href="#" id="deleteaward_{{award.id}}" onclick="deleteaward('{{ award.id }}')" class="btn btn-outline-danger" style="float: left; width: 33%;margin: 0.5%;border-width: 0.3mm;display:inline;">Delete</a>
                      </div>
                    </td>
                    {% endif %}  
                  </tr>
                {%empty%}
                    <tr>
                        <td>No Research Awards</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        {% if user.is_authenticated %}
                        <td></td>
                        {% endif %}
                    </tr>
                {%endfor%}
                </tbody>
            </table>
          </div>
        </div>
      </div>
  </div>




{% endblock %}